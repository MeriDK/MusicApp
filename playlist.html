<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>MusicApp</title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/playlist.css">
  <link rel="stylesheet" href="css/nav-bar.css">
  <link rel="stylesheet" href="css/logo-center.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    fetch('http://127.0.0.1:8000/playlist/2/')
      .then(res => res.json())
      .then((out) => {
        var playlist_html = '<div class="logo-center"><img src="img/img' + out.id + '.jpg" alt="cover" class="playlist__image"></div>' +
                '<div class="playlist__info"><div class="playlist__name">' + out.name + '</div>' +
                '<div class="playlist__description">' + out.description + '</div>' +
                '<button type="button" class="playlist__button">ADD TO LIBRARY</button></div>';
        $('#playlist').html(playlist_html);
      }).catch(err => console.log(err));

    fetch('http://127.0.0.1:8000/song/?playlist=2')
      .then(res => res.json())
      .then((out) => {
        var song_html = ''
        for (let i in out) {
          let song = out[i];
          song_html += '<div class="song"><div class="song__title">' + song.name + '</div>' +
                  '<div class="song__artist">' + song.artist + '</div>' +
                  '<div class="song__time">' + song.duration + '</div></div>';
        }
        $('#song-list').html(song_html);
      }).catch(err => console.log(err));
  </script>

</head>
<body>
<div class="nav-bar__wrapper">
  <div class="nav-bar">
    <a href="home.html" class="nav-bar__img-wrapper">
      <img src="img/logo.png" alt="logo" class="nav-bar__img">
      <div class="logo-center__title nav-bar__title nav-bar__title_grey">MusicApp</div>
    </a>
    <div class="nav-bar__menu">
      <a href="home.html" class="nav-bar__element">
        <img src="img/home.png" alt="menu" class="nav-bar__img">
        <div class="nav-bar__title">Home</div>
      </a>
      <a href="private.html" class="nav-bar__element">
        <img src="img/private.png" alt="menu" class="nav-bar__img">
        <div class="nav-bar__title">Private</div>
      </a>
      <a href="public.html" class="nav-bar__element">
        <img src="img/public.png" alt="menu" class="nav-bar__img">
        <div class="nav-bar__title">Public</div>
      </a>
    </div>
    <a href="profile.html" class="nav-bar__img-wrapper">
      <img src="img/ava1.jpg" alt="ava" class="nav-bar__img  nav-bar__img_ava">
    </a>
  </div>
</div>
<div class="playlist" id="playlist"></div>
<div class="song-list" id="song-list"></div>
</body>
</html>
